<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Detalles registro</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/main.css" rel="stylesheet">
    <link href="../css/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-nav sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><img src="../img/forest.png" alt="" width="50px"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link text-color-nav" aria-current="page" href="#">Adriana Hernández</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-color-nav" aria-current="page" href="#">Cerrar sesión</a>
                    </li>
                </ul>

            </div>
        </div>
    </nav>

    <div class="container my-5">
        <div class="mx-4 mx-sm-auto d-flex flex-column col-lg-6">
            <h1 class="text-center fs-2 fw-normal mb-5">Detalles del registro</h1>
            <div class="card shadow">
                <div class="card-header d-flex justify-content-between align-content-center bg-card text-white px-4">
                    <div class="d-flex flex-column">
                        <span class="card-title fs-5 fw-bold m-0">Capulalpam </span>
                        <span>23/08/2022-07:00 a.m.</span>
                    </div>
                    <div class="d-flex align-items-center gap-1">
                        <img src="../img/finish.png" width="20px" height="20px">
                        <span>Finalizado</span>
                    </div>
                </div>
                <div class="d-flex flex-row bg-light m-0 p-2">
                    <div class="col-6 px-2">
                        <span class="fw-bold">Rodal:</span>
                    </div>
                    <div class="col-6 ">
                        <span class="">V-2a</span>
                    </div>
                </div>
                <div class="d-flex flex-row m-0 p-2">
                    <div class="col-6 px-2">
                        <span class="fw-bold">Superficie:</span>
                    </div>
                    <div class="col-6 ">
                        <span class="">5.02</span>
                    </div>
                </div>
                <div class="d-flex flex-row bg-light m-0 p-2">
                    <div class="col-6 px-2">
                        <span class="fw-bold">Tratamiento:</span>
                    </div>
                    <div class="col-6 ">
                        <span class="">PACL</span>
                    </div>
                </div>
                <div class="d-flex flex-row m-0 p-2">
                    <div class="col-6 px-2">
                        <span class="fw-bold">Género:</span>
                    </div>
                    <div class="col-6 ">
                        <span class="">Pinus, Quercus, Alnus</span>
                    </div>
                </div>
                <div class="d-flex flex-row bg-light m-0 p-2">
                    <div class="col-6 px-2">
                        <span class="fw-bold">Volumen:</span>
                    </div>
                    <div class="col-6 ">
                        <span class="">248.7m³</span>
                    </div>
                </div>

            </div>



            <!-- <div class="row mb-4 shadow">
                <div class="d-flex d-none d-xl-block">
                    <div class="col-lg-6">
                        <p class="fw-bold">Fechadwd:<br> <span class="fw-light text-color-card">23/08/2022</span>
                        </p>
                        <p class="fw-bold">Hora:<br> <span class="fw-light text-color-card">07:00
                                a.m.</span></p>
                        <p class="fw-bold">Anualidad:<br> <span class="fw-light text-color-card">1</span></p>
                        <p class="fw-bold">Rodal: <br><span class="fw-light  text-color-card">IV-2a</span></p>
                    </div>
                    <div class="col-lg-6 ">
                        <p class="fw-bold">Superficie:<br> <span class="fw-light ">5.02</span></p>
                        <p class="fw-bold">Tratamiento: <br><span class="fw-light text-color-card">PACL</span>
                        </p>
                        <p class="fw-bold">Género:<br> <span class="fw-light text-color-card">Pinus</span></p>
                        <p class="fw-bold">Volumen:<br> <span class="fw-light text-color-card">248.7032</span>
                        </p>
                    </div>
                </div>
            </div> -->

            <section class="table-responsive-sm p-1 mt-4">
                <table id="example" class="table table-striped table-hover align-middle display">
                    <thead>
                        <tr>
                            <th hidden>Rodal</th>
                            <th hidden>Superficie</th>
                            <th hidden>Tratamiento</th>
                            <th class="find">Responsable</th>
                            <th class="find">Género</th>
                            <th class="find">Especie</th>
                            <th>Diámetro</th>
                            <th>Altura</th>
                            <th>Volumen</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td hidden>IV-a</td>
                            <td hidden>231</td>
                            <td hidden>PACL</td>
                            <td>Adriana Hernández</td>
                            <td>Pinus</td>
                            <td>Pinus pátula</td>
                            <td>12 </td>
                            <td>6 </td>
                            <td>74</td>
                        </tr>
                        <tr>
                            <td hidden>IV-a</td>
                            <td hidden>231</td>
                            <td hidden>PACL</td>
                            <td>Adriana Hernández</td>
                            <td>Pinus</td>
                            <td>Pinus pátula</td>
                            <td>12 </td>
                            <td>6 </td>
                            <td>74</td>
                        </tr>
                        <tr>
                            <td hidden>IV-a</td>
                            <td hidden>231</td>
                            <td hidden>PACL</td>
                            <td>Adriana Hernández</td>
                            <td>Pinus</td>
                            <td>Pinus pátula</td>
                            <td>12 </td>
                            <td>6 </td>
                            <td>74</td>
                        </tr>
                        <tr>
                            <td hidden>IV-a</td>
                            <td hidden>231</td>
                            <td hidden>PACL</td>
                            <td>Adriana Hernández</td>
                            <td>Pinus</td>
                            <td>Pinus pátula</td>
                            <td>12 </td>
                            <td>6 </td>
                            <td>74</td>
                        </tr>
                        <tr>
                            <td hidden>IV-a</td>
                            <td hidden>231</td>
                            <td hidden>PACL</td>
                            <td>Adriana Hernández</td>
                            <td>Pinus</td>
                            <td>Pinus pátula</td>
                            <td>12 </td>
                            <td>6 </td>
                            <td>74</td>
                        </tr>


                    </tbody>
                    <tfoot>
                        <tr>
                            <th hidden></th>
                            <th hidden></th>
                            <th hidden></th>
                            <th>Responsable</th>
                            <th>Género</th>
                            <th>Especie</th>
                            <th style="text-align:right">Total:</th>
                            <th></th>
                            <th></th>

                        </tr>
                    </tfoot>
                </table>
            </section>
            <span id="total"></span>


            <div class="text-center my-3">
                <button href="#" type="submit" class="btn btn-lg btn-outline-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                        class="bi bi-arrow-left-short" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z" />
                    </svg>
                    <span>Regresar</span>
                </button>
            </div>
        </div>
    </div>

    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

    <script src="../js/jquery.dataTables.min.js"></script>
    <script src="../js/dataTables.bootstrap5.min.js"></script>
    <script src="../js/jquery.dataTables.min.js"></script>
    <script src="../js/dataTables.bootstrap5.min.js"></script>
    <script src="../js/export-data/dataTables.buttons.min.js"></script>
    <script src="../js/export-data/buttons.bootstrap5.min.js"></script>
    <script src="../js/export-data/jszip.min.js"></script>
    <script src="../js/export-data/pdfmake.min.js"></script>
    <script src="../js/export-data/vfs_fonts.js"></script>
    <script src="../js/export-data/buttons.html5.min.js"></script>
    <script src="../js/export-data/buttons.print.min.js"></script>
    <script src="../js/export-data/buttons.colVis.min.js"></script>
    <script>
        /* Formatting function for row details - modify as you need */
        function format(d) {
            // `d` is the original data object for the row
            return (
                '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">' +
                '<tr>' +
                '<td>Fecha de registro:</td>' +
                '<td>' +
                "30/09/2022" +
                '</td>' +
                '</tr>' +
                '<tr>' +
                '<td>Responsable:</td>' +
                '<td>' +
                "Adriana Hernández Ramírez" +
                '</td>' +
                '</tr>' +
                '<tr>' +
                '<td>Diámetro:</td>' +
                '<td>12 cm</td>' +
                '</tr>' +
                '<tr>' +
                '<td>Altura:</td>' +
                '<td>5 m</td>' +
                '</tr>' +
                '<tr>' +
                '<td>Volumen:</td>' +
                '<td>23 m</td>' +
                '</tr>' +
                '<td>Volumen:</td>' +
                '<td>23 m</td>' +
                '</tr>' +
                '</table>'
            );
        }
        $(document).ready(function () {
            var table = $('#example').DataTable({
                dom: "<'row mb-4' <'col-12 col-md-6'<'dt-buttons btn-group flex-wrap'B><'dt-buttons btn-group flex-wrap'>><'col-12 col-md-6'f>>" +
                    "<'row' <'col-12'tr>>" +
                    "<'row' <'col-12 col-md-5'i> <'col-12 col-md-7'p >>",

                buttons: ['excel'], //'copy','colvis',
                "order": [
                    [1, "asc"]
                ],
                'columnDefs': [{
                    "width": "auto",
                    "targets": [0],
                    "orderable": false,
                }],

                initComplete: function () {
                    this.api()
                        .columns('.find')
                        .every(function () {
                            var column = this;
                            var select = $('<select class="form-select" aria-label="Default select example"><option value="">Todo</option></select>')
                                .appendTo($(column.footer()).empty())
                                .on('change', function () {
                                    var val = $.fn.dataTable.util.escapeRegex($(this).val());

                                    column.search(val ? '^' + val + '$' : '', true, false).draw();
                                });

                            column
                                .data()
                                .unique()
                                .sort()
                                .each(function (d, j) {
                                    select.append('<option value="' + d + '">' + d + '</option>');
                                });
                        });
                },
                language: {
                    url: "../json/dataTableSpanishLanguage.json",
                },
                responsive: true,
                // scrollY: '200px',
                // scrollCollapse: true

                //Suma
                footerCallback: function (row, data, start, end, display) {
                    var api = this.api();

                    // Remove the formatting to get integer data for summation
                    var intVal = function (i) {
                        return typeof i === 'string' ? i.replace(/[\$,]/g, '') * 1 : typeof i === 'number' ? i : 0;
                    };

                    // Total over all pages
                    total = api
                        .column(8)
                        .data()
                        .reduce(function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0);

                    // Total over this page
                    pageTotal = api
                        .column(8, { page: 'current' })
                        .data()
                        .reduce(function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0);

                    // Update footer
                    $(api.column(8).footer()).html('$' + pageTotal + ' ( $' + total + ' total)');
                },

            });

            // Add event listener for opening and closing details
            $('#example tbody').on('click', 'td.dt-control', function () {
                var tr = $(this).closest('tr');
                var row = table.row(tr);

                if (row.child.isShown()) {
                    // This row is already open - close it
                    row.child.hide();
                    tr.removeClass('shown');
                    this.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">' +
                        '<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>' +
                        '<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>' +
                        '</svg>'

                } else {
                    // Open this row
                    row.child(format(row.data())).show();
                    tr.addClass('shown');
                    this.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">' +
                        '<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" />' +
                        '</svg >'

                }
            });
        });
    </script>
</body>

</html>